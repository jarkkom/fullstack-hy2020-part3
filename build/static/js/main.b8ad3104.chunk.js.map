{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newPerson","post","personId","delete","changedPerson","put","id","Notification","message","className","Error","Filter","filter","setFilter","value","onChange","event","target","PersonForm","persons","setPersons","setMessage","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","preventDefault","name","number","existingPerson","find","p","window","confirm","personService","map","addedPerson","concat","setTimeout","type","Persons","setError","person","toLowerCase","includes","key","onClick","deletedPerson","catch","err","App","useEffect","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b8ad3104.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseUrl = 'https://still-savannah-65366.herokuapp.com/api/persons';\n\nconst getAll = () => {\n  const req = axios.get(baseUrl);\n  return req.then((response) => {\n      return response.data;\n  });\n};\n\nconst addPerson = (newPerson) => {\n  const req = axios.post(baseUrl, newPerson);\n  return req.then((response) => {\n      return response.data;\n  });\n};\n\nconst changePerson = (changedPerson) => {\n  const req = axios.put(`${baseUrl}/${changedPerson.id}`, changedPerson);\n  return req.then((response) => {\n      return response.data;\n  });\n};\n\nconst deletePerson = (personId) => {\n  const req = axios.delete(`${baseUrl}/${personId}`);\n  return req.then((response) => {\n    return response.data;\n  })\n}\n\nexport default {\n  getAll,\n  addPerson,\n  deletePerson,\n  changePerson,\n}","import React, { useState, useEffect } from 'react';\nimport personService from './services/persons';\n\nconst Notification = ({message}) => {\n  if (!message) {\n    return (<></>);\n  }\n  return (\n    <div className='notification'>{message}</div>\n  )\n};\n\nconst Error = ({message}) => {\n  if (!message) {\n    return (<></>);\n  }\n  return (\n    <div className='error'>{message}</div>\n  )\n};\n\nconst Filter = ({ filter, setFilter }) => {\n  const onChangeFilter = (event) => {\n    setFilter(event.target.value);\n  }\n\n  return (\n    <div>\n      <input value={filter} onChange={onChangeFilter} />\n    </div>\n  );\n};\n\nconst PersonForm = ({ persons, setPersons, setMessage }) => {\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const existingPerson = persons.find(p => p.name === newName);\n    if (!existingPerson) {\n      personService.addPerson(newPerson)\n        .then((addedPerson) => {\n          setPersons(persons.concat(addedPerson));\n          setNewName(''); \n          setNewNumber(''); \n          setMessage(`Added ${addedPerson.name}`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        });\n    } else {\n      if (!window.confirm(`${existingPerson.name} is already in phonebook, replace the phonenumber?`)) {\n        return;\n      };\n\n      const changedPerson = {\n        ...existingPerson,\n        ...newPerson,\n      };\n\n      personService.changePerson(changedPerson)\n        .then((changedPerson) => {\n          setPersons(persons.map((p) => {\n            return p.id !== changedPerson.id ? p : changedPerson;\n          }));\n\n          setNewName(''); \n          setNewNumber(''); \n        });\n    }\n  }\n\n  const onChangeNewName = (event) => {\n    setNewName(event.target.value);\n  }\n  const onChangeNewNumber = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={onChangeNewName}/>\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={onChangeNewNumber}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nconst Persons = ({ persons, filter, setPersons, setMessage, setError }) => {\n  const onClickDelete = (deletedPerson) => {\n\n    if (!window.confirm(`delete ${deletedPerson.name}?`)) {\n      return;\n    }\n\n    personService.deletePerson(deletedPerson.id)\n      .then(() => {\n        setMessage(`Removed ${deletedPerson.name}`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n    \n        setPersons(persons.filter((person) => {\n          return person.id !== deletedPerson.id;\n        }));\n      })\n      .catch((err) => {\n        setError(`${deletedPerson.name} has already been deleted`);\n        setTimeout(() => {\n          setError(null);\n        }, 5000);\n      });\n  };\n\n  return (\n    <div>\n      <ul>\n        {persons.map((person) => {\n          if (filter === '' || person.name.toLowerCase().includes(filter.toLowerCase())) {\n            return (\n              <li key={person.id}>{person.name} {person.number}\n              <button onClick={() => onClickDelete(person)}>delete</button>\n              </li>\n            );  \n          } \n          return false;\n        })}\n      </ul>\n    </div>\n  );\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n\n  useEffect(() => {\n    personService.getAll()\n      .then((persons) => {\n        setPersons(persons);\n      })\n  }, []);\n  \n  const [ filter, setFilter ] = useState('');\n  const [ message, setMessage ] = useState(null);\n  const [ error, setError ] = useState(null);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Error message={error} />\n      <PersonForm persons={persons} setPersons={setPersons} setMessage={setMessage}/>\n      <h2>Numbers</h2>\n      <Filter filter={filter} setFilter={setFilter} />\n      <Persons persons={persons} filter={filter} setPersons={setPersons} setMessage={setMessage} setError={setError}/>\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}