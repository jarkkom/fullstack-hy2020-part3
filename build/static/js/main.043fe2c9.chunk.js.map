{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newPerson","post","personId","delete","changedPerson","put","id","Notification","message","className","Error","Filter","filter","setFilter","value","onChange","event","target","PersonForm","persons","setPersons","setMessage","setError","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","preventDefault","name","number","existingPerson","find","p","window","confirm","personService","map","addedPerson","concat","setTimeout","catch","err","error","type","Persons","person","toLowerCase","includes","key","onClick","deletedPerson","App","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.043fe2c9.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseUrl = 'https://still-savannah-65366.herokuapp.com/api/persons';\n//const baseUrl = 'http://localhost:3001/api/persons';\n\nconst getAll = () => {\n  const req = axios.get(baseUrl);\n  return req.then((response) => {\n      return response.data;\n  });\n};\n\nconst addPerson = (newPerson) => {\n  const req = axios.post(baseUrl, newPerson);\n  return req.then((response) => {\n      return response.data;\n  });\n};\n\nconst changePerson = (changedPerson) => {\n  const req = axios.put(`${baseUrl}/${changedPerson.id}`, changedPerson);\n  return req.then((response) => {\n      return response.data;\n  });\n};\n\nconst deletePerson = (personId) => {\n  const req = axios.delete(`${baseUrl}/${personId}`);\n  return req.then((response) => {\n    return response.data;\n  })\n}\n\nexport default {\n  getAll,\n  addPerson,\n  deletePerson,\n  changePerson,\n}","import React, { useState, useEffect } from 'react';\nimport personService from './services/persons';\n\nconst Notification = ({message}) => {\n  if (!message) {\n    return (<></>);\n  }\n  return (\n    <div className='notification'>{message}</div>\n  )\n};\n\nconst Error = ({message}) => {\n  if (!message) {\n    return (<></>);\n  }\n  return (\n    <div className='error'>{message}</div>\n  )\n};\n\nconst Filter = ({ filter, setFilter }) => {\n  const onChangeFilter = (event) => {\n    setFilter(event.target.value);\n  }\n\n  return (\n    <div>\n      <input value={filter} onChange={onChangeFilter} />\n    </div>\n  );\n};\n\nconst PersonForm = ({ persons, setPersons, setMessage, setError }) => {\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const existingPerson = persons.find(p => p.name === newName);\n    if (!existingPerson) {\n      personService.addPerson(newPerson)\n        .then((addedPerson) => {\n          setPersons(persons.concat(addedPerson));\n          setNewName(''); \n          setNewNumber(''); \n          setMessage(`Added ${addedPerson.name}`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        }).catch((err) => {\n          setError(err.response.data.error);\n          setTimeout(() => {\n            setError(null);\n          }, 5000);\n        });\n    } else {\n      if (!window.confirm(`${existingPerson.name} is already in phonebook, replace the phonenumber?`)) {\n        return;\n      };\n\n      const changedPerson = {\n        ...existingPerson,\n        ...newPerson,\n      };\n\n      personService.changePerson(changedPerson)\n        .then((changedPerson) => {\n          setPersons(persons.map((p) => {\n            return p.id !== changedPerson.id ? p : changedPerson;\n          }));\n\n          setNewName(''); \n          setNewNumber(''); \n        });\n    }\n  }\n\n  const onChangeNewName = (event) => {\n    setNewName(event.target.value);\n  }\n  const onChangeNewNumber = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={onChangeNewName}/>\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={onChangeNewNumber}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nconst Persons = ({ persons, filter, setPersons, setMessage, setError }) => {\n  const onClickDelete = (deletedPerson) => {\n\n    if (!window.confirm(`delete ${deletedPerson.name}?`)) {\n      return;\n    }\n\n    personService.deletePerson(deletedPerson.id)\n      .then(() => {\n        setMessage(`Removed ${deletedPerson.name}`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n    \n        setPersons(persons.filter((person) => {\n          return person.id !== deletedPerson.id;\n        }));\n      })\n      .catch((err) => {\n        setError(`${deletedPerson.name} has already been deleted`);\n        setTimeout(() => {\n          setError(null);\n        }, 5000);\n      });\n  };\n\n  return (\n    <div>\n      <ul>\n        {persons.map((person) => {\n          if (filter === '' || person.name.toLowerCase().includes(filter.toLowerCase())) {\n            return (\n              <li key={person.id}>{person.name} {person.number}\n              <button onClick={() => onClickDelete(person)}>delete</button>\n              </li>\n            );  \n          } \n          return false;\n        })}\n      </ul>\n    </div>\n  );\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n\n  useEffect(() => {\n    personService.getAll()\n      .then((persons) => {\n        setPersons(persons);\n      })\n  }, []);\n  \n  const [ filter, setFilter ] = useState('');\n  const [ message, setMessage ] = useState(null);\n  const [ error, setError ] = useState(null);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Error message={error} />\n      <PersonForm persons={persons} setPersons={setPersons} setMessage={setMessage} setError={setError} />\n      <h2>Numbers</h2>\n      <Filter filter={filter} setFilter={setFilter} />\n      <Persons persons={persons} filter={filter} setPersons={setPersons} setMessage={setMessage} setError={setError}/>\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}